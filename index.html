<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="jpg" href="Synergy_Six.jpg">
    <title>Disaster Ready India</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header id="app-header">
        <div class="header-left">
            <button id="hamburger-btn" aria-label="Open menu">
                <span></span><span></span><span></span>
            </button>
            <div class="header-title">
                <h2>Disaster Ready India</h2>
                <p data-translate="app_subtitle">Learn. Prepare. Survive.</p>
            </div>
        </div>
        <div class="header-right-container">
            <nav class="header-nav">
                <div class="theme-switch-wrapper desktop-only" style="margin-right: 15px;">
                    <label class="theme-switch" for="theme-toggle-desktop">
                        <input type="checkbox" id="theme-toggle-desktop" />
                        <div class="slider"></div>
                    </label>
                </div>
                <a data-view="dashboard-view" class="active" data-translate="dashboard_link">Dashboard</a>
                <a data-view="map-view" data-translate="map_link">Revise Through Map</a>
            </nav>
            <button id="live-alert-btn" class="live-alert-btn" onclick="showAlertsModal()">
                <div class="alert-dot"></div>
                <span class="long-text">Live Alerts</span>
            </button>
            <div class="header-right">
                <a href="https://ndma.gov.in/" target="_blank" rel="noopener noreferrer" class="ndma-link">
                    <span class="long-text">Official NDMA Website</span>
                    <span class="short-text">NDMA</span>
                </a>
            </div>
             <div class="header-donate">
                <button class="donate-btn" onclick="showFundraisingModal()">
                    <span class="long-text" data-translate="donate_now">Donate Now</span>
                    <span class="short-text" data-translate="donate">Donate</span>
                </button>
            </div>
        </div>
    </header>
    
    <div id="sidebar">
        <div class="sidebar-header">
            <span id="sidebar-time"></span>
            <div class="sidebar-controls">
                <div class="theme-switch-wrapper mobile-only">
                    <label class="theme-switch" for="theme-toggle-mobile">
                        <input type="checkbox" id="theme-toggle-mobile" />
                        <div class="slider"></div>
                    </label>
                </div>
                <button id="language-btn-sidebar" class="language-btn-shared" aria-label="Select Language">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                    </svg>
                </button>
            </div>
            <span id="sidebar-close-btn">&times;</span>
        </div>
        <div class="sidebar-content">
             <div id="user-stats">
                <h3 data-translate="your_progress">YOUR PROGRESS</h3>
                <div class="stats-container">
                    <div class="stat-item">
                        <div id="points-display">0</div>
                        <label data-translate="points_label">Points</label>
                    </div>
                    <div class="stat-item">
                        <div id="badges-display" class="badges-container"></div>
                        <label data-translate="badges_label">Badges</label>
                    </div>
                </div>
            </div>
            <details class="sidebar-dropdown">
                <summary data-translate="state_ut_directory">State & UT Directory</summary>
                <ul id="state-ut-list"><li>Andaman and Nicobar Islands</li><li>Andhra Pradesh</li><li>Arunachal Pradesh</li><li>Assam</li><li>Bihar</li><li>Chandigarh</li><li>Chhattisgarh</li><li>Dadra and Nagar Haveli and Daman and Diu</li><li>Goa</li><li>Gujarat</li><li>Haryana</li><li>Himachal Pradesh</li><li>Jammu and Kashmir</li><li>Jharkhand</li><li>Karnataka</li><li>Kerala</li><li>Ladakh</li><li>Lakshadweep</li><li>Madhya Pradesh</li><li>Maharashtra</li><li>Manipur</li><li>Meghalaya</li><li>Mizoram</li><li>Nagaland</li><li>National Capital Territory of Delhi</li><li>Odisha</li><li>Puducherry</li><li>Punjab</li><li>Rajasthan</li><li>Sikkim</li><li>Tamil Nadu</li><li>Telangana</li><li>Tripura</li><li>Uttar Pradesh</li><li>Uttarakhand</li><li>West Bengal</li></ul>
            </details>
            <div class="sidebar-menu">
                <div class="sidebar-menu-header" data-translate="menu_header">Menu</div>
                <ul>
                    <li><a onclick="switchView('dashboard-view');" data-translate="dashboard_link_sidebar">Dashboard</a></li>
                    <li><a onclick="switchView('map-view');" data-translate="map_link">Revise Through Map</a></li>
                    <li><a onclick="showDrillModal(event)" data-translate="start_drill">Start a Drill</a></li>
                    <li><a onclick="showFamilyPlanModal(event)" data-translate="my_family_plan">My Family Plan</a></li>
                    <li><a onclick="showKitGeneratorModal(event)" data-translate="my_emergency_kit">My Emergency Kit</a></li>
                    <li><a onclick="showFundraisingModal(event)" data-translate="support_relief">Support Relief Efforts</a></li>
                    <li><a onclick="showHistoricalDisastersModal(event)" data-translate="historical_disasters">Famous Historical Disasters</a></li>
                    <li><a onclick="showPreparednessModal('First Aid', event)" data-translate="first_aid">First Aid Essentials</a></li>
                    <li><a onclick="showPreparednessModal('Emergency Kit', event)" data-translate="what_to_pack">What to Pack</a></li>
                    <li><a onclick="showBasicMedicinesModal(event)" data-translate="basic_medicines">Basic Medicines to Carry</a></li>
                    <li><a href="#" data-translate="my_certificates">Certificates</a></li>
                    <li><a href="#" data-translate="help_center">Help Center</a></li>
                    <li><a href="#" data-translate="contact_us">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div id="user-profile-section">
            <label for="user-name-input" data-translate="your_profile">Your Profile</label>
            <input type="text" id="user-name-input" placeholder="Enter your name">
        </div>
        <div class="sidebar-footer">
            <a href="#" class="login-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20" style="flex-shrink: 0;">
                    <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h1a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1h1a1 1 0 001-1v-.5a1.5 1.5 0 013 0V5H7v1.5a1.5 1.5 0 003 0V5zm-3.5 0V5h7V3.5a.5.5 0 00-1 0V5h-1V3.5a.5.5 0 00-1 0V5h-1V3.5a.5.5 0 00-1 0V5h-1V3.5a.5.5 0 00-1 0z" />
                </svg>
                <span data-translate="login_logout">Login / Logout</span>
            </a>
        </div>
    </div>

    <main id="dashboard-view" class="view-container">
        <div class="dashboard-header">
            <h1 id="dashboard-main-title" data-translate="dashboard_title_main">Your Learning Modules</h1>
            <p data-translate="dashboard_subtitle_main">Complete each module to become a certified Disaster Ready expert. Start by reading an article, then complete the drill to unlock the final quiz.</p>
            <div id="certificate-container"></div>
        </div>
        <div class="learning-path" id="learning-path-container"></div>
    </main>

    <main id="map-view" class="view-container">
        <div id="chartdiv" style="width: 100%; height: 100%;"></div>
    </main>

    <div id="infoModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close-button" aria-label="Close modal">&times;</button>
                <h2 id="modalTitle"></h2>
                <p id="modalSubtitle" class="modal-subtitle"></p>
            </div>
            <div class="modal-body">
                </div>
        </div>
    </div>
    
    <div id="authModal" class="modal-overlay">
        <div class="auth-container" id="authContainer">
            <button class="close-button" id="closeAuthModal" aria-label="Close modal" style="z-index: 101;">&times;</button>
            <div class="form-container sign-up-container">
                <form class="auth-form" onsubmit="event.preventDefault();">
                    <h1>Create Account</h1>
                    <input type="tel" placeholder="Mobile Number" required />
                    <input type="text" placeholder="Studying Class (e.g., 10th)" required />
                    <input type="password" placeholder="Password" required/>
                    <button class="auth-btn" style="margin-top: 12px;">Sign Up</button>
                </form>
            </div>
            <div class="form-container sign-in-container">
                <form class="auth-form" onsubmit="event.preventDefault();">
                    <h1>Sign In</h1>
                    <input type="tel" placeholder="Mobile Number" required />
                    <input type="password" placeholder="Password" required/>
                    <button class="auth-btn" style="margin-top: 12px;">Sign In</button>

                    <hr style="border-color: var(--border-color); margin: 20px 0; width: 80%;">

                    <div class="guest-section-auth">
                        <h3>Continue as a Guest?</h3>
                        <p>Your progress is saved temporarily. Create an account to save it permanently.</p>
                        <button type="button" onclick="hideAuthModal()">Maybe Later</button> 
                    </div>
                </form>
            </div>
            <div class="overlay-container">
                <div class="overlay">
                    <div class="overlay-panel overlay-left">
                        <img src="Synergy_Six.jpg" class="illustration" alt="Illustration">
                        <h1>Welcome Back!</h1>
                        <p>To keep connected with us please login with your personal info</p>
                        <button class="auth-btn ghost" id="signIn">Sign In</button>
                    </div>
                    <div class="overlay-panel overlay-right">
                        <img src="Synergy_Six.jpg" class="illustration" alt="Illustration">
                        <h1>Hello, Friend!</h1>
                        <p>Enter your personal details and start your journey with us</p>
                        <button class="auth-btn ghost" id="signUp">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-column about">
                <h3>Disaster Ready India</h3>
                <p data-translate="footer_about">Empowering citizens with the knowledge to prepare for, survive, and recover from disasters.</p>
            </div>
            <div class="footer-column">
                <h4 data-translate="footer_quick_links">Quick Links</h4>
                <ul>
                    <li><a href="#" onclick="switchView('dashboard-view'); return false;" data-translate="dashboard_link_sidebar">Dashboard</a></li>
                    <li><a href="#" onclick="switchView('map-view'); return false;" data-translate="map_link">Revise Through Map</a></li>
                    <li><a href="#" onclick="showDrillModal(event); return false;" data-translate="start_drill">Start a Drill</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4 data-translate="footer_resources">Official Resources</h4>
                <ul>
                    <li><a href="https://ndma.gov.in/" target="_blank" rel="noopener noreferrer">NDMA</a></li>
                    <li><a href="https://mausam.imd.gov.in/" target="_blank" rel="noopener noreferrer">IMD (Weather)</a></li>
                    <li><a href="https://www.ndrf.gov.in/" target="_blank" rel="noopener noreferrer">NDRF</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4 data-translate="footer_get_involved">Get Involved</h4>
                <ul>
                    <li><a href="#" onclick="showFundraisingModal(event); return false;" data-translate="donate_relief">Donate for Relief</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Disaster Ready India. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/indiaLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    
    <script src="script.js"></script>
    <a id="sos-button" onclick="confirmSOSCall(event)">SOS</a>
</body>
</html>